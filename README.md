# AirAlarmBot

Alarm-bot for TG group

## Перенесення змін з гілки `codex` у `main`

1. Перейдіть на гілку `main` та підтягніть останні зміни:
   ```bash
   git checkout main
   git pull
   ```
2. Змініть гілку на `codex` і переконайтесь, що в ній закомічені всі правки:
   ```bash
   git checkout codex
   git status
   ```
   Якщо є незакомічені файли — завершіть коміт перед продовженням.
3. Поверніться на `main` і змерджіть туди гілку `codex`:
   ```bash
   git checkout main
   git merge codex
   ```
4. Якщо git повідомить про конфлікти, відкрийте згадані файли, вручну виправте розбіжності та завершить мердж:
   ```bash
   # після виправлення конфліктів
   git add <шлях_до_файлу>
   git commit
   ```
5. Відправте оновлення в центральний репозиторій:
   ```bash
   git push
   ```
6. За потреби можна видалити гілку `codex`, коли вона більше не потрібна:
   ```bash
   git branch -d codex            # локально
   git push origin --delete codex # віддалено
   ```

Ці кроки перенесуть усі зміни, зроблені в `codex`, до основної гілки `main`.

## Налаштування середовища

Перед запуском застосунку переконайтесь, що в оточенні задані такі змінні:

| Змінна | Обов'язково | Опис |
| ------ | ----------- | ---- |
| `BOT_TOKEN` | ✅ | Токен Telegram-бота. |
| `ALERTS_TOKEN` | ✅ | API-токен сервісу [`alerts.in.ua`](https://alerts.in.ua/). |
| `ADMIN_ID` | ➖ | Telegram ID адміністратора, якому дозволено виконувати `/stopbot`. |
| `CHAT_ID` | ➖ | Початковий чат, куди надсилати автоматичні сповіщення. Може бути заданий командою `/start`. |
| `REGION` | ➖ | Назва області для моніторингу (стандартно — «Київська область»). |
| `POLL_INTERVAL` | ➖ | Період опитування API в секундах (за замовчуванням 25). |

Бот використовує `CHAT_ID`, якщо його вказано у змінних оточення, але автоматично зберігає новий чат після виконання `/start`. Усі токени варто тримати у «секретах» або `.env`, який не додається в git.
